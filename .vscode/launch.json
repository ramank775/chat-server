{
  // Use IntelliSense to learn about possible attributes.
  // Hover to view descriptions of existing attributes.
  "version": "0.2.0",
  "configurations": [
    {
      "type": "node",
      "request": "launch",
      "name": "Launch Gateway MS",
      "program": "${workspaceFolder}/services/connection-gateway/ws-gateway.js",
      "args": [
        "--app-name=ws-gateway-1",
        "--debug",
        "--gateway-name=gateway-1",
        "--event-store=${EVENT_STORE}",
        "--client-ack-topic=${TOPIC_CLIENT_ACK_MESSAGE}",
        "--new-message-topic=${TOPIC_NEW_MESSAGE}",
        "--offline-message-topic=${TOPIC_OFFLINE_MESSAGE}",
        "--redis-endpoint=127.0.0.1:6379",
        "--kafka-client-id=gateway-1",
        "--kafka-broker-list=${BROKER_LIST}",
        "--kafka-security-protocol=${KAFKA_SECURITY_PROTOCOL}",
        "--kafka-sasl-username=${KAFKA_SASL_USERNAME}",
        "--kafka-sasl-password=${KAFKA_SASL_PASSWORD}",
        "--nats-server-list=${NATS_SERVER_LIST}"
      ],
      "envFile": "${workspaceFolder}/.env",
      "autoAttachChildProcesses": true
    },
    {
      "type": "node",
      "request": "launch",
      "name": "Launch Message Delivery MS",
      "program": "${workspaceFolder}/services/message-delivery/message-delivery-worker.js",
      "args": [
        "--app-name=message-delivery",
        "--debug",
        "--event-store=${EVENT_STORE}",
        "--new-message-topic=${TOPIC_NEW_MESSAGE}",
        "--offline-message-topic=${TOPIC_OFFLINE_MESSAGE}",
        "--redis-endpoint=127.0.0.1:6379",
        "--kafka-client-id=message-delivery-1",
        "--kafka-consumer-group=${CONSUMER_GROUP_MESSAGE_DELIVERY}",
        "--kafka-broker-list=${BROKER_LIST}",
        "--kafka-security-protocol=${KAFKA_SECURITY_PROTOCOL}",
        "--kafka-sasl-username=${KAFKA_SASL_USERNAME}",
        "--kafka-sasl-password=${KAFKA_SASL_PASSWORD}",
        "--nats-server-list=${NATS_SERVER_LIST}",
        "--nats-consumer-group=${CONSUMER_GROUP_MESSAGE_DELIVERY}",
        
      ],
      "envFile": "${workspaceFolder}/.env",
      "autoAttachChildProcesses": true
    },
    {
      "type": "node",
      "request": "launch",
      "name": "Launch Message MS",
      "program": "${workspaceFolder}/services/message-ms/message-ms.js",
      "args": [
        "--app-name=message-ms-1",
        "--debug",
        "--port=4003",
        "--gateway-name=message-ms-1",
        "--mongo-url=mongodb://localhost:27017/chat",
        "--new-message-topic=${TOPIC_NEW_MESSAGE}",
        "--offline-message-topic=${TOPIC_OFFLINE_MESSAGE}",
        "--event-store=${EVENT_STORE}",
        "--kafka-client-id=message-ms-1",
        "--kafka-broker-list=${BROKER_LIST}",
        "--nats-server-list=${NATS_SERVER_LIST}",
      ],
      "envFile": "${workspaceFolder}/.env",
      "autoAttachChildProcesses": true
    },
    {
      "type": "node",
      "request": "launch",
      "name": "Launch Storage Worker",
      "program": "${workspaceFolder}/services/message-ms/message-storage-worker.js",
      "args": [
        "--app-name=message-storage-worker-1",
        "--debug",
        "--mongo-url=mongodb://localhost:27017/chat",
        "--new-message-topic=${TOPIC_NEW_MESSAGE}",
        "--client-ack-topic=${TOPIC_CLIENT_ACK_MESSAGE}",
        "--event-store=${EVENT_STORE}",
        "--kafka-client-id=message-delivery-1",
        "--kafka-consumer-group=${CONSUMER_GROUP_MESSAGE_STORAGE}",
        "--kafka-broker-list=${BROKER_LIST}",
        "--kafka-security-protocol=${KAFKA_SECURITY_PROTOCOL}",
        "--kafka-sasl-username=${KAFKA_SASL_USERNAME}",
        "--kafka-sasl-password=${KAFKA_SASL_PASSWORD}",
        "--nats-server-list=${NATS_SERVER_LIST}",
        "--nats-consumer-group=${CONSUMER_GROUP_MESSAGE_STORAGE}",
      ],
      "envFile": "${workspaceFolder}/.env",
      "autoAttachChildProcesses": true
    },
    {
      "type": "node",
      "request": "launch",
      "name": "Launch Channel MS",
      "program": "${workspaceFolder}/services/channel-ms/channel-ms.js",
      "args": [
        "--app-name=channel-ms-1",
        "--debug",
        "--port=4002",
        "--mongo-url=mongodb://localhost:27017/chat",
        "--new-message-topic=${TOPIC_NEW_MESSAGE}",
        "--event-store=${EVENT_STORE}",
        "--kafka-client-id=group-1",
        "--kafka-broker-list=${BROKER_LIST}",
        "--nats-server-list=${NATS_SERVER_LIST}",
      ],
      "envFile": "${workspaceFolder}/.env",
      "autoAttachChildProcesses": true
    },
    {
      "type": "node",
      "request": "launch",
      "name": "Launch profile MS",
      "program": "${workspaceFolder}/services/profile-ms/profile-ms.js",
      "args": [
        "--app-name=profile-ms-1",
        "--debug",
        "--port=4000",
        "--auth-provider=${AUTH_PROVIDER}",
        "--mongo-url=${MONGO_URL}",
        "--firebase-project-id=${FIREBASE_PROJECT_ID}",
        "--event-store=${EVENT_STORE}",
        "--kafka-broker-list=${BROKER_LIST}",
        "--kafka-security-protocol=${KAFKA_SECURITY_PROTOCOL}",
        "--kafka-sasl-username=${KAFKA_SASL_USERNAME}",
        "--kafka-sasl-password=${KAFKA_SASL_PASSWORD}",
        "--new-login-topic=${TOPIC_NEW_LOGIN}",
        "--nats-server-list=${NATS_SERVER_LIST}",
      ],
      "envFile": "${workspaceFolder}/.env",
      "autoAttachChildProcesses": true
    },
    {
      "type": "node",
      "request": "launch",
      "name": "Launch notification MS",
      "program": "${workspaceFolder}/services/notification-ms/notification-ms.js",
      "args": [
        "--app-name=notification-ms-1",
        "--debug",
        "--mongo-url=${MONGO_URL}",
        "--pn-service=${PN_SERVICE}",
        "--firebase-admin-credential-json-path=${workspaceFolder}/${FIREBASE_ADMIN_CRED_JSON_PATH}",
        "--event-store=${EVENT_STORE}",
        "--kafka-broker-list=${BROKER_LIST}",
        "--kafka-security-protocol=${KAFKA_SECURITY_PROTOCOL}",
        "--kafka-sasl-username=${KAFKA_SASL_USERNAME}",
        "--kafka-sasl-password=${KAFKA_SASL_PASSWORD}",
        "--kafka-consumer-group=notification-ms",
        "--nats-server-list=${NATS_SERVER_LIST}",
        "--nats-consumer-group=notification-ms",
        "--new-login-topic=${TOPIC_NEW_LOGIN}",
        "--offline-message-topic=${TOPIC_OFFLINE_MESSAGE}",
        "--db-app-initial=${PERSISTENCE_MESSAGE_MS_INITIAL}"
      ],
      "envFile": "${workspaceFolder}/.env",
      "autoAttachChildProcesses": true
    },
    {
      "type": "node",
      "request": "launch",
      "name": "Launch file MS",
      "program": "${workspaceFolder}/services/file-ms/file-ms.js",
      "args": [
        "--app-name=file-ms-1",
        "--debug",
        "--port=4001",
        "--file-metadata-db=mongo",
        "--mongo-url=mongodb://localhost:27017/chat",
        "--base-upload-dir=/workspace/upload",
        "--s3-access-key-id=${S3_ACCESS_KEY_ID}",
        "--s3-secret-access-key=${S3_SECRET_ACCESS_KEY}",
        "--s3-bucket-name=${S3_BUCKET_NAME}",
        "--file-storage=s3",
      ],
      "envFile": "${workspaceFolder}/.env",
      "autoAttachChildProcesses": true
    },
  ]
}
